{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap ba2664d028ea02aff1b6","webpack:///./src/model.ts","webpack:///./src/estimator.ts","webpack:///./src/parser.ts","webpack:///./src/quick.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","Price","CreationParams","HostParams","BuyerInvitationParams","SellerInvitationParams","RecommendParams","QuickParams","currencyCode","currencySymbol","decimals","value","this","copy","source","undefined","zero","US_DOLLAR_CODE","US_DOLLAR_SYMBOL","DECIMALS","toFixed","fromNumber","fromString","parseFloat","times","multiplier","add","terms","_i","arguments","length","reduce","sum","term","offerPrice","numOffers","commission","numSales","period","numSellers","numInvites","numHours","haveWebsite","__WEBPACK_IMPORTED_MODULE_0__estimator__","__WEBPACK_IMPORTED_MODULE_1__model__","Estimator","__WEBPACK_IMPORTED_MODULE_0__model__","__WEBPACK_IMPORTED_MODULE_1__parser__","estimate","all","parser","total","report","params","parseReport","promises","create","host","inviteBuyer","inviteSeller","recommend","filter","promise","then","values","apply","nonEmpty","estimation","price","relCommission","createOffer","recommendOffer","main","bonus","EstimationParser","__WEBPACK_IMPORTED_MODULE_0__quick__","quick","convert","parseHasWebsite","hasWebsite","QuickEstimator","dailyHours","invitations","_a","time","creation","recommendation","invitation","common","totalTime","dailyHour","config","invitationTime","timePercentage","creationTime","recommendationTime","timePerInvitation","remains","ratio","creationToRecommendationRatio","fromDailyHours","Math","floor","relCom","sellers","sales","buyer","offers","quantity","creations","timePerRecommendation","core","timePerCreation","buyerSellerRatio","absCommission","cost","msrp","taxRate"],"mappings":"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","file":"index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return Price; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return CreationParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return HostParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return BuyerInvitationParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return SellerInvitationParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return RecommendParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return QuickParams; });\nvar Price = /** @class */ (function () {\n    function Price(currencyCode, currencySymbol, decimals, value) {\n        this.currencyCode = currencyCode;\n        this.currencySymbol = currencySymbol;\n        this.decimals = decimals;\n        this.value = value;\n    }\n    Price.copy = function (source, value, currencyCode, currencySymbol, decimals) {\n        if (value === void 0) { value = undefined; }\n        if (currencyCode === void 0) { currencyCode = undefined; }\n        if (currencySymbol === void 0) { currencySymbol = undefined; }\n        if (decimals === void 0) { decimals = undefined; }\n        return new Price(currencyCode || source.currencyCode, currencySymbol || source.currencySymbol, decimals || source.decimals, value || source.value);\n    };\n    Price.zero = function () {\n        return new Price(Price.US_DOLLAR_CODE, Price.US_DOLLAR_SYMBOL, Price.DECIMALS, (0).toFixed(Price.DECIMALS));\n    };\n    Price.fromNumber = function (value) {\n        return new Price(Price.US_DOLLAR_CODE, Price.US_DOLLAR_SYMBOL, Price.DECIMALS, value.toFixed(Price.DECIMALS));\n    };\n    Price.fromString = function (value) {\n        return Price.fromNumber(parseFloat(value));\n    };\n    Price.times = function (source, multiplier) {\n        return multiplier >= 0 ?\n            Price.copy(source, (parseFloat(source.value) * multiplier).toFixed(source.decimals)) :\n            undefined;\n    };\n    // Assuming all share the same currency\n    Price.add = function () {\n        var terms = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            terms[_i] = arguments[_i];\n        }\n        return terms.reduce(function (sum, term) {\n            var value = (parseFloat(sum.value) + parseFloat(term.value)).toFixed(term.decimals);\n            return term.copy(value);\n        }, Price.zero());\n    };\n    Price.prototype.copy = function (value, currencyCode, currencySymbol, decimals) {\n        if (value === void 0) { value = this.value; }\n        if (currencyCode === void 0) { currencyCode = this.currencyCode; }\n        if (currencySymbol === void 0) { currencySymbol = this.currencySymbol; }\n        if (decimals === void 0) { decimals = this.decimals; }\n        return new Price(currencyCode, currencySymbol, decimals, value);\n    };\n    Price.US_DOLLAR_CODE = \"USD\";\n    Price.US_DOLLAR_SYMBOL = \"$\";\n    Price.DECIMALS = 2;\n    return Price;\n}());\n\nvar CreationParams = /** @class */ (function () {\n    function CreationParams(offerPrice, numOffers, commission, numSales, period, numSellers) {\n        this.offerPrice = offerPrice;\n        this.numOffers = numOffers;\n        this.commission = commission;\n        this.numSales = numSales;\n        this.period = period;\n        this.numSellers = numSellers;\n    }\n    return CreationParams;\n}());\n\nvar HostParams = /** @class */ (function () {\n    function HostParams(offerPrice, numOffers, commission, period) {\n        this.offerPrice = offerPrice;\n        this.numOffers = numOffers;\n        this.commission = commission;\n        this.period = period;\n    }\n    return HostParams;\n}());\n\nvar BuyerInvitationParams = /** @class */ (function () {\n    function BuyerInvitationParams(numInvites, offerPrice, numOffers, commission, period, numSellers) {\n        this.numInvites = numInvites;\n        this.offerPrice = offerPrice;\n        this.numOffers = numOffers;\n        this.commission = commission;\n        this.period = period;\n        this.numSellers = numSellers;\n    }\n    return BuyerInvitationParams;\n}());\n\nvar SellerInvitationParams = /** @class */ (function () {\n    function SellerInvitationParams(numInvites, offerPrice, numOffers, commission, period) {\n        this.numInvites = numInvites;\n        this.offerPrice = offerPrice;\n        this.numOffers = numOffers;\n        this.commission = commission;\n        this.period = period;\n    }\n    return SellerInvitationParams;\n}());\n\nvar RecommendParams = /** @class */ (function () {\n    function RecommendParams(offerPrice, numOffers, commission, period, numSellers) {\n        this.offerPrice = offerPrice;\n        this.numOffers = numOffers;\n        this.commission = commission;\n        this.period = period;\n        this.numSellers = numSellers;\n    }\n    return RecommendParams;\n}());\n\nvar QuickParams = /** @class */ (function () {\n    /**\n     * [constructor description]\n     * @param {number}  public numInvites  [description]\n     * @param {number}  public numHours    [description]\n     * @param {boolean} public haveWebsite server send \"yes\" and \"no\"\n     */\n    function QuickParams(numInvites, numHours, haveWebsite) {\n        this.numInvites = numInvites;\n        this.numHours = numHours;\n        this.haveWebsite = haveWebsite;\n    }\n    return QuickParams;\n}());\n\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__estimator__ = __webpack_require__(2);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"Estimator\", function() { return __WEBPACK_IMPORTED_MODULE_0__estimator__[\"a\"]; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__model__ = __webpack_require__(0);\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"Price\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"d\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"CreationParams\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"b\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"HostParams\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"c\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"BuyerInvitationParams\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"a\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"SellerInvitationParams\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"g\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"RecommendParams\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"f\"]; });\n/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, \"QuickParams\", function() { return __WEBPACK_IMPORTED_MODULE_1__model__[\"e\"]; });\n\n\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Estimator; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__parser__ = __webpack_require__(3);\n\n\nvar Estimator = /** @class */ (function () {\n    function Estimator(estimate, all) {\n        this.estimate = estimate;\n        this.all = all;\n        this.parser = new __WEBPACK_IMPORTED_MODULE_1__parser__[\"a\" /* EstimationParser */]();\n    }\n    Estimator.prototype.total = function (report) {\n        var params = this.parser.parseReport(report);\n        var promises = [\n            this.create(params.create),\n            this.host(params.host),\n            this.inviteBuyer(params.inviteBuyer),\n            this.inviteSeller(params.inviteSeller),\n            this.recommend(params.recommend)\n        ].filter(function (promise) { return promise !== undefined; });\n        return this.all(promises)\n            .then(function (values) { return __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].add.apply(__WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */], values); });\n    };\n    Estimator.prototype.create = function (params) {\n        return this.nonEmpty(params) ?\n            this.estimate(params.offerPrice, params.numSellers || 0)\n                .then(function (estimation) {\n                var multiplier = params.numOffers * params.numSales * params.period * params.commission / estimation.price.relCommission;\n                return __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].times(estimation.createOffer, multiplier);\n            }) :\n            undefined;\n    };\n    Estimator.prototype.host = function (params) {\n        return this.nonEmpty(params) ?\n            this.estimate(params.offerPrice, 0)\n                .then(function (estimation) {\n                var multiplier = params.numOffers * params.period * params.commission / estimation.price.relCommission;\n                return __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].times(estimation.recommendOffer, multiplier);\n            }) :\n            undefined;\n    };\n    Estimator.prototype.inviteBuyer = function (params) {\n        return this.nonEmpty(params) ?\n            this.estimate(params.offerPrice, params.numSellers || 0)\n                .then(function (estimation) {\n                var multiplier = params.numInvites * params.numOffers * params.period * params.commission / estimation.price.relCommission;\n                return __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].times(estimation.inviteBuyer, multiplier);\n            }) :\n            undefined;\n    };\n    Estimator.prototype.inviteSeller = function (params) {\n        return this.nonEmpty(params) ?\n            this.estimate(params.offerPrice, params.numInvites)\n                .then(function (estimation) {\n                var multiplier = params.numInvites * params.numOffers * params.period * params.commission / estimation.price.relCommission;\n                var main = __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].times(estimation.inviteSeller, multiplier);\n                var bonus = __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].times(estimation.bonus, multiplier);\n                return __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].add(main, bonus);\n            }) :\n            undefined;\n    };\n    Estimator.prototype.recommend = function (params) {\n        return this.nonEmpty(params) ?\n            this.estimate(params.offerPrice, params.numSellers || 0)\n                .then(function (estimation) {\n                var multiplier = params.numOffers * params.period * params.commission / estimation.price.relCommission;\n                return __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].times(estimation.recommendOffer, multiplier);\n            }) :\n            undefined;\n    };\n    Estimator.prototype.nonEmpty = function (params) {\n        return !!params && !!params.offerPrice;\n    };\n    return Estimator;\n}());\n\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EstimationParser; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__quick__ = __webpack_require__(4);\n\nvar EstimationParser = /** @class */ (function () {\n    function EstimationParser() {\n        this.quick = new __WEBPACK_IMPORTED_MODULE_0__quick__[\"a\" /* QuickEstimator */]();\n    }\n    EstimationParser.prototype.parseReport = function (report) {\n        // Only support quick estimation at the moment\n        var qck = report && report.quick ?\n            this.quick.convert(report.quick.numInvites, report.quick.numHours, this.parseHasWebsite(report.quick.haveWebsite)) :\n            undefined;\n        return qck;\n    };\n    EstimationParser.prototype.parseHasWebsite = function (hasWebsite) {\n        return hasWebsite === \"yes\";\n    };\n    return EstimationParser;\n}());\n\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return QuickEstimator; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(0);\n\n/**\n * Main purpose: converting quick estimation params into detailed estimation params\n */\nvar QuickEstimator = /** @class */ (function () {\n    function QuickEstimator() {\n    }\n    QuickEstimator.prototype.convert = function (numInvites, dailyHours, haveWebsite) {\n        // The actual number of invitation\n        var invitations = this.invitations(numInvites, dailyHours);\n        // Calculate time for each type of small actions: invitation, recommendation, offer creation\n        var _a = this.time(invitations, dailyHours), creation = _a.creation, invitation = _a.invitation, recommendation = _a.recommendation;\n        var common = this.common(invitations);\n        var inviteBuyer = this.inviteBuyer(invitations)(common);\n        var createOffer = this.createOffer(creation)(common);\n        var recommendOffer = this.recommendOffer(recommendation)(common);\n        var inviteSeller = this.inviteSeller(common.numSellers, createOffer.numOffers)(common);\n        var host = this.host(haveWebsite, invitations)(common);\n        return {\n            create: createOffer,\n            host: host,\n            inviteBuyer: inviteBuyer,\n            inviteSeller: inviteSeller,\n            recommend: recommendOffer\n        };\n    };\n    QuickEstimator.prototype.totalTime = function (dailyHour) {\n        return QuickEstimator.config.period * dailyHour;\n    };\n    ;\n    QuickEstimator.prototype.invitationTime = function (dailyHour) {\n        return this.totalTime(dailyHour) * QuickEstimator.config.timePercentage.invitation;\n    };\n    QuickEstimator.prototype.creationTime = function (dailyHour) {\n        return this.totalTime(dailyHour) * QuickEstimator.config.timePercentage.creation;\n    };\n    QuickEstimator.prototype.recommendationTime = function (dailyHour) {\n        return this.totalTime(dailyHour) * QuickEstimator.config.timePercentage.recommendation;\n    };\n    QuickEstimator.prototype.time = function (invitations, dailyHours) {\n        var total = this.totalTime(dailyHours);\n        var invitation = invitations * QuickEstimator.config.timePerInvitation;\n        var remains = total - invitation;\n        var ratio = this.creationToRecommendationRatio();\n        var recommendation = remains > 0 ? remains / (ratio + 1) : 0;\n        var creation = recommendation * ratio;\n        return {\n            creation: creation,\n            invitation: invitation,\n            recommendation: recommendation\n        };\n    };\n    QuickEstimator.prototype.invitations = function (numInvites, dailyHours) {\n        var fromDailyHours = (dailyHours * QuickEstimator.config.period) * QuickEstimator.config.timePercentage.invitation;\n        var fromNumInvites = numInvites * QuickEstimator.config.timePerInvitation;\n        return fromNumInvites > fromDailyHours ?\n            Math.floor(fromDailyHours / QuickEstimator.config.timePerInvitation) :\n            numInvites;\n    };\n    QuickEstimator.prototype.common = function (numInvites) {\n        return {\n            commission: QuickEstimator.config.relCom,\n            numSellers: this.sellers(numInvites),\n            offerPrice: QuickEstimator.config.offerPrice,\n        };\n    };\n    /**\n     * [inviteBuyer description]\n     * @param {number} invitations total number of invitations\n     */\n    QuickEstimator.prototype.inviteBuyer = function (invitations) {\n        return function (common) { return new __WEBPACK_IMPORTED_MODULE_0__model__[\"a\" /* BuyerInvitationParams */](invitations, common.offerPrice, QuickEstimator.config.sales.buyer, common.commission, QuickEstimator.config.period, common.numSellers); };\n    };\n    /**\n     * [inviteSeller description]\n     * @param {number} sellers number of seller invitations\n     */\n    QuickEstimator.prototype.inviteSeller = function (sellers, offers) {\n        return function (common) { return sellers > 0 ?\n            new __WEBPACK_IMPORTED_MODULE_0__model__[\"g\" /* SellerInvitationParams */](sellers, common.offerPrice, Math.floor(QuickEstimator.config.sales.creation * offers / sellers), common.commission, QuickEstimator.config.period) :\n            undefined; };\n    };\n    QuickEstimator.prototype.createOffer = function (time) {\n        var quantity = this.creations(time);\n        var core = quantity > 0 ?\n            {\n                numOffers: quantity,\n                numSales: QuickEstimator.config.sales.creation,\n                period: QuickEstimator.config.period\n            } : null;\n        return function (common) { return quantity > 0 ?\n            new __WEBPACK_IMPORTED_MODULE_0__model__[\"b\" /* CreationParams */](common.offerPrice, quantity, common.commission, QuickEstimator.config.sales.creation, QuickEstimator.config.period, common.numSellers) :\n            undefined; };\n    };\n    QuickEstimator.prototype.recommendOffer = function (time) {\n        return function (common) { return time > 0 ?\n            (function () {\n                var quantity = Math.floor(time / QuickEstimator.config.timePerRecommendation);\n                var core = quantity < 365 ?\n                    {\n                        numOffers: quantity,\n                        period: 1\n                    } : {\n                    numOffers: Math.floor(quantity / QuickEstimator.config.period),\n                    period: QuickEstimator.config.period\n                };\n                return new __WEBPACK_IMPORTED_MODULE_0__model__[\"f\" /* RecommendParams */](common.offerPrice, core.numOffers, common.commission, core.period, common.numSellers);\n            })() :\n            undefined; };\n    };\n    QuickEstimator.prototype.host = function (hasWebsite, invitations) {\n        var sales = invitations * QuickEstimator.config.sales.host;\n        return function (common) { return hasWebsite && invitations * QuickEstimator.config.sales.host > 0 ?\n            new __WEBPACK_IMPORTED_MODULE_0__model__[\"c\" /* HostParams */](common.offerPrice, sales, common.commission, QuickEstimator.config.period) :\n            undefined; };\n    };\n    QuickEstimator.prototype.creations = function (time) {\n        return Math.floor(time / QuickEstimator.config.timePerCreation);\n    };\n    QuickEstimator.prototype.creationToRecommendationRatio = function () {\n        return QuickEstimator.config.timePercentage.creation / QuickEstimator.config.timePercentage.recommendation;\n    };\n    QuickEstimator.prototype.sellers = function (invitations) {\n        return Math.floor(invitations / (QuickEstimator.config.buyerSellerRatio + 1));\n    };\n    QuickEstimator.config = {\n        buyerSellerRatio: 12,\n        offerPrice: {\n            absCommission: null,\n            commission: \"rel\",\n            cost: __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].fromNumber(7),\n            msrp: __WEBPACK_IMPORTED_MODULE_0__model__[\"d\" /* Price */].fromNumber(7),\n            relCommission: null,\n            taxRate: null\n        },\n        period: 365,\n        relCom: 0.05,\n        sales: {\n            buyer: 1,\n            creation: 1,\n            host: 0.03\n        },\n        timePerCreation: 15 * 5,\n        timePerInvitation: 2 * 4,\n        timePerRecommendation: 4,\n        timePercentage: {\n            creation: 0.60,\n            invitation: 0.35,\n            recommendation: 0.05\n        },\n    };\n    return QuickEstimator;\n}());\n\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ba2664d028ea02aff1b6","export class Price {\n  public static US_DOLLAR_CODE = \"USD\";\n  public static US_DOLLAR_SYMBOL = \"$\";\n  public static DECIMALS = 2;\n\n  public static copy(\n    source: Price,\n    value: string = undefined,\n    currencyCode: string = undefined,\n    currencySymbol: string = undefined,\n    decimals: number = undefined) {\n    return new Price(\n      currencyCode || source.currencyCode,\n      currencySymbol || source.currencySymbol,\n      decimals || source.decimals,\n      value || source.value);\n  }\n\n  public static zero() {\n    return new Price(Price.US_DOLLAR_CODE, Price.US_DOLLAR_SYMBOL, Price.DECIMALS, (0).toFixed(Price.DECIMALS));\n  }\n\n  public static fromNumber(value: number) {\n    return new Price(Price.US_DOLLAR_CODE, Price.US_DOLLAR_SYMBOL, Price.DECIMALS, value.toFixed(Price.DECIMALS));\n  }\n\n  public static fromString(value: string) {\n    return Price.fromNumber(parseFloat(value));\n  }\n\n  public static times(source: Price, multiplier: number) {\n    return multiplier >= 0 ?\n      Price.copy(source, (parseFloat(source.value) * multiplier).toFixed(source.decimals)) :\n      undefined;\n  }\n\n  // Assuming all share the same currency\n  public static add(...terms: Price[]) {\n    return terms.reduce((sum, term) => {\n      const value = (parseFloat(sum.value) + parseFloat(term.value)).toFixed(term.decimals);\n      return term.copy(value);\n    }, Price.zero());\n  }\n\n  constructor(\n    public currencyCode: string,\n    public currencySymbol: string,\n    public decimals: number,\n    public value: string) { }\n\n  public copy(\n    value: string = this.value,\n    currencyCode: string = this.currencyCode,\n    currencySymbol: string = this.currencySymbol,\n    decimals: number = this.decimals) {\n    return new Price(currencyCode, currencySymbol, decimals, value);\n  }\n}\n\nexport interface OfferPrice {\n  cost: Price;\n  msrp: Price;\n  taxRate: number;\n  absCommission?: Price;\n  relCommission?: number;\n}\n\nexport interface HasPeriod {\n  period: number;\n}\n\nexport interface HasOffer {\n  offerPrice: OfferPrice;\n  numOffers: number;\n  commission: number;\n}\n\nexport interface HasSale {\n  numSales: number;\n}\n\nexport interface HasInvitation {\n  numInvites: number;\n}\n\nexport interface HasSeller {\n  numSellers: number;\n}\n\nexport class CreationParams implements HasPeriod, HasOffer, HasSale, HasSeller {\n  constructor(\n    public offerPrice: OfferPrice,\n    public numOffers: number,\n    public commission: number,\n    public numSales: number,\n    public period: number,\n    public numSellers: number) { }\n}\n\nexport class HostParams implements HasPeriod, HasOffer {\n  constructor(\n    public offerPrice: OfferPrice,\n    public numOffers: number,\n    public commission: number,\n    public period: number) { }\n\n  // require: ['offerPrice', 'numOffers', 'period', 'commission']\n}\n\nexport class BuyerInvitationParams implements HasPeriod, HasOffer, HasInvitation, HasSeller {\n  constructor(\n    public numInvites: number,\n    public offerPrice: OfferPrice,\n    public numOffers: number,\n    public commission: number,\n    public period: number,\n    public numSellers: number) { }\n\n  // ['numInvites', 'offerPrice', 'numOffers', 'period', 'commission']\n}\n\nexport class SellerInvitationParams implements HasPeriod, HasOffer, HasInvitation {\n  constructor(\n    public numInvites: number,\n    public offerPrice: OfferPrice,\n    public numOffers: number,\n    public commission: number,\n    public period: number) { }\n\n  // require: ['numInvites', 'offerPrice', 'numOffers', 'period', 'commission']\n}\n\nexport class RecommendParams implements HasPeriod, HasOffer, HasSeller {\n  constructor(\n    public offerPrice: OfferPrice,\n    public numOffers: number,\n    public commission: number,\n    public period: number,\n    public numSellers: number) { }\n  // ['offerPrice', 'numOffers', 'period', 'commission']\n}\n\nexport class QuickParams implements HasInvitation {\n  /**\n   * [constructor description]\n   * @param {number}  public numInvites  [description]\n   * @param {number}  public numHours    [description]\n   * @param {boolean} public haveWebsite server send \"yes\" and \"no\"\n   */\n  constructor(\n    public numInvites: number,\n    public numHours: number,\n    public haveWebsite: boolean) { }\n}\n\nexport interface EstimationParams {\n  create: CreationParams;\n  host: HostParams;\n  inviteBuyer: BuyerInvitationParams;\n  inviteSeller: SellerInvitationParams;\n  recommend: RecommendParams;\n}\n\nexport interface ImpactReport {\n  // create;\n  // host;\n  // inviteBuyer;\n  // inviteSeller;\n  quick: {\n    haveWebsite: \"yes\" | \"no\";\n    numInvites: number;\n    numHours: number;\n  };\n  // recommend;\n  stateParams: object;\n}\n\nexport interface ImpactEstimation {\n  price: OfferPrice;\n  recommendOffer: Price;\n  createOffer: Price;\n  inviteBuyer: Price;\n  inviteSeller: Price;\n  bonus: Price;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model.ts","import { ImpactReport, Price, CreationParams, HostParams, BuyerInvitationParams, SellerInvitationParams, RecommendParams, OfferPrice, ImpactEstimation, HasOffer } from \"./model\";\nimport { EstimationParser } from \"./parser\";\n\nexport class Estimator {\n  private parser = new EstimationParser();\n\n  constructor(private estimate: Estimation, private all: (promises: Promise<Price>[]) => Promise<Price[]>) { }\n\n  public total(report: ImpactReport): Promise<Price> {\n    const params = this.parser.parseReport(report);\n    const promises = [\n      this.create(params.create),\n      this.host(params.host),\n      this.inviteBuyer(params.inviteBuyer),\n      this.inviteSeller(params.inviteSeller),\n      this.recommend(params.recommend)\n    ].filter((promise) => promise !== undefined);\n\n    return this.all(promises)\n      .then((values) => Price.add(...values));\n  }\n\n  private create(params: CreationParams) {\n    return this.nonEmpty(params) ?\n      this.estimate(params.offerPrice, params.numSellers || 0)\n        .then((estimation) => {\n          const multiplier = params.numOffers * params.numSales * params.period * params.commission / estimation.price.relCommission;\n          return Price.times(estimation.createOffer, multiplier);\n        }) :\n      undefined;\n  }\n\n  private host(params: HostParams) {\n    return this.nonEmpty(params) ?\n      this.estimate(params.offerPrice, 0)\n        .then((estimation) => {\n          const multiplier = params.numOffers * params.period * params.commission / estimation.price.relCommission;\n          return Price.times(estimation.recommendOffer, multiplier);\n        }) :\n      undefined;\n  }\n\n  private inviteBuyer(params: BuyerInvitationParams) {\n    return this.nonEmpty(params) ?\n      this.estimate(params.offerPrice, params.numSellers || 0)\n        .then((estimation) => {\n          const multiplier = params.numInvites * params.numOffers * params.period * params.commission / estimation.price.relCommission;\n          return Price.times(estimation.inviteBuyer, multiplier);\n        }) :\n      undefined;\n  }\n\n  private inviteSeller(params: SellerInvitationParams) {\n    return this.nonEmpty(params) ?\n      this.estimate(params.offerPrice, params.numInvites)\n        .then((estimation) => {\n          const multiplier = params.numInvites * params.numOffers * params.period * params.commission / estimation.price.relCommission;\n          const main = Price.times(estimation.inviteSeller, multiplier);\n          const bonus = Price.times(estimation.bonus, multiplier);\n          return Price.add(main, bonus);\n        }) :\n      undefined;\n  }\n\n  private recommend(params: RecommendParams) {\n    return this.nonEmpty(params) ?\n      this.estimate(params.offerPrice, params.numSellers || 0)\n        .then((estimation) => {\n          const multiplier = params.numOffers * params.period * params.commission / estimation.price.relCommission;\n          return Price.times(estimation.recommendOffer, multiplier);\n        }) :\n      undefined;\n  }\n\n  private nonEmpty(params: HasOffer) {\n    return !!params && !!params.offerPrice;\n  }\n}\n\nexport type Estimation = (price: OfferPrice, storeOwners: number) => Promise<ImpactEstimation>;\n\n\n\n// WEBPACK FOOTER //\n// ./src/estimator.ts","import { QuickEstimator } from \"./quick\";\nimport { ImpactReport, EstimationParams } from \"./model\";\n\nexport class EstimationParser {\n  private quick = new QuickEstimator();\n\n  public parseReport(report: ImpactReport): EstimationParams {\n    // Only support quick estimation at the moment\n    const qck = report && report.quick ?\n      this.quick.convert(report.quick.numInvites, report.quick.numHours, this.parseHasWebsite(report.quick.haveWebsite)) :\n      undefined;\n\n    return qck;\n  }\n\n  private parseHasWebsite(hasWebsite: \"yes\" | \"no\"): boolean {\n    return hasWebsite === \"yes\";\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/parser.ts","import { BuyerInvitationParams, EstimationParams, CreationParams, HostParams, RecommendParams, OfferPrice, Price, SellerInvitationParams } from \"./model\";\n\n/**\n * Main purpose: converting quick estimation params into detailed estimation params\n */\nexport class QuickEstimator {\n  private static config = {\n    buyerSellerRatio: 12, // 12 buyers : 1 seller\n    offerPrice: {\n      absCommission: null,\n      commission: \"rel\",\n      cost: Price.fromNumber(7),\n      msrp: Price.fromNumber(7),\n      relCommission: null,\n      taxRate: null\n    }, // $7.00\n    period: 365, // 365 days\n    relCom: 0.05, // 5%\n    sales: {\n      buyer: 1, // each invited buyer buys an offer\n      creation: 1, // an offer is sold everyday\n      host: 0.03\n    },\n    timePerCreation: 15 * 5,\n    timePerInvitation: 2 * 4,\n    timePerRecommendation: 4,\n    timePercentage: {\n      creation: 0.60,\n      invitation: 0.35,\n      recommendation: 0.05\n    },\n  };\n\n  public convert(numInvites: number, dailyHours: number, haveWebsite: boolean): EstimationParams {\n    // The actual number of invitation\n    const invitations = this.invitations(numInvites, dailyHours);\n\n    // Calculate time for each type of small actions: invitation, recommendation, offer creation\n    const { creation, invitation, recommendation } = this.time(invitations, dailyHours);\n\n    const common = this.common(invitations);\n\n    const inviteBuyer = this.inviteBuyer(invitations)(common);\n    const createOffer = this.createOffer(creation)(common);\n    const recommendOffer = this.recommendOffer(recommendation)(common);\n    const inviteSeller = this.inviteSeller(common.numSellers, createOffer.numOffers)(common);\n    const host = this.host(haveWebsite, invitations)(common);\n\n    return {\n      create: createOffer,\n      host,\n      inviteBuyer,\n      inviteSeller,\n      recommend: recommendOffer\n    };\n  }\n\n  private totalTime(dailyHour: number) {\n    return QuickEstimator.config.period * dailyHour;\n  };\n\n  private invitationTime(dailyHour: number) {\n    return this.totalTime(dailyHour) * QuickEstimator.config.timePercentage.invitation;\n  }\n\n  private creationTime(dailyHour: number) {\n    return this.totalTime(dailyHour) * QuickEstimator.config.timePercentage.creation;\n  }\n\n  private recommendationTime(dailyHour: number) {\n    return this.totalTime(dailyHour) * QuickEstimator.config.timePercentage.recommendation;\n  }\n\n  private time(invitations: number, dailyHours: number) {\n    const total = this.totalTime(dailyHours);\n    const invitation = invitations * QuickEstimator.config.timePerInvitation;\n    const remains = total - invitation;\n    const ratio = this.creationToRecommendationRatio();\n    const recommendation = remains > 0 ? remains / (ratio + 1) : 0;\n    const creation = recommendation * ratio;\n    return {\n      creation,\n      invitation,\n      recommendation\n    };\n  }\n\n  private invitations(numInvites: number, dailyHours: number): number {\n    const fromDailyHours = (dailyHours * QuickEstimator.config.period) * QuickEstimator.config.timePercentage.invitation;\n    const fromNumInvites = numInvites * QuickEstimator.config.timePerInvitation;\n    return fromNumInvites > fromDailyHours ?\n      Math.floor(fromDailyHours / QuickEstimator.config.timePerInvitation) :\n      numInvites;\n  }\n\n  private common(numInvites: number): CommonParams {\n    return {\n      commission: QuickEstimator.config.relCom,\n      numSellers: this.sellers(numInvites),\n      offerPrice: QuickEstimator.config.offerPrice,\n    };\n  }\n\n  /**\n   * [inviteBuyer description]\n   * @param {number} invitations total number of invitations\n   */\n  private inviteBuyer(invitations: number) {\n    return (common: CommonParams): BuyerInvitationParams => new BuyerInvitationParams(\n      invitations,\n      common.offerPrice,\n      QuickEstimator.config.sales.buyer,\n      common.commission,\n      QuickEstimator.config.period,\n      common.numSellers);\n  }\n\n  /**\n   * [inviteSeller description]\n   * @param {number} sellers number of seller invitations\n   */\n  private inviteSeller(sellers: number, offers: number) {\n    return (common: CommonParams): SellerInvitationParams => sellers > 0 ?\n      new SellerInvitationParams(\n        sellers,\n        common.offerPrice,\n        Math.floor(QuickEstimator.config.sales.creation * offers / sellers),\n        common.commission,\n        QuickEstimator.config.period) :\n      undefined;\n  }\n\n  private createOffer(time: number) {\n    const quantity = this.creations(time);\n    const core = quantity > 0 ?\n      {\n        numOffers: quantity,\n        numSales: QuickEstimator.config.sales.creation,\n        period: QuickEstimator.config.period\n      } : null;\n\n    return (common: CommonParams): CreationParams => quantity > 0 ?\n      new CreationParams(\n        common.offerPrice,\n        quantity,\n        common.commission,\n        QuickEstimator.config.sales.creation,\n        QuickEstimator.config.period,\n        common.numSellers) :\n      undefined;\n  }\n\n  private recommendOffer(time: number) {\n    return (common: CommonParams): RecommendParams => time > 0 ?\n      (function() {\n        const quantity = Math.floor(time / QuickEstimator.config.timePerRecommendation);\n        const core = quantity < 365 ?\n          {\n            numOffers: quantity,\n            period: 1\n          } : {\n            numOffers: Math.floor(quantity / QuickEstimator.config.period),\n            period: QuickEstimator.config.period\n          };\n        return new RecommendParams(\n          common.offerPrice,\n          core.numOffers,\n          common.commission,\n          core.period,\n          common.numSellers);\n      })() :\n      undefined;\n  }\n\n  private host(hasWebsite: boolean, invitations: number) {\n    const sales = invitations * QuickEstimator.config.sales.host;\n    return (common: CommonParams): HostParams => hasWebsite && invitations * QuickEstimator.config.sales.host > 0 ?\n      new HostParams(\n        common.offerPrice,\n        sales,\n        common.commission,\n        QuickEstimator.config.period) :\n      undefined;\n  }\n\n  private creations(time: number) {\n    return Math.floor(time / QuickEstimator.config.timePerCreation);\n  }\n\n  private creationToRecommendationRatio() {\n    return QuickEstimator.config.timePercentage.creation / QuickEstimator.config.timePercentage.recommendation;\n  }\n\n  private sellers(invitations: number) {\n    return Math.floor(invitations / (QuickEstimator.config.buyerSellerRatio + 1));\n  }\n}\n\ninterface CommonParams {\n  offerPrice: OfferPrice;\n  commission: number;\n  numSellers: number;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/quick.ts"],"sourceRoot":""}