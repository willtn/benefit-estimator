!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["benefit-estimator"]=t():e["benefit-estimator"]=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return f});var i=function(){function e(e,t,n,i){this.currencyCode=e,this.currencySymbol=t,this.decimals=n,this.value=i}return e.copy=function(t,n,i,r,o){return void 0===n&&(n=void 0),void 0===i&&(i=void 0),void 0===r&&(r=void 0),void 0===o&&(o=void 0),new e(i||t.currencyCode,r||t.currencySymbol,o||t.decimals,n||t.value)},e.zero=function(){return new e(e.US_DOLLAR_CODE,e.US_DOLLAR_SYMBOL,e.DECIMALS,(0).toFixed(e.DECIMALS))},e.fromNumber=function(t){return new e(e.US_DOLLAR_CODE,e.US_DOLLAR_SYMBOL,e.DECIMALS,t.toFixed(e.DECIMALS))},e.fromString=function(t){return e.fromNumber(parseFloat(t))},e.times=function(t,n){return n>=0?e.copy(t,(parseFloat(t.value)*n).toFixed(t.decimals)):void 0},e.add=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n=(parseFloat(e.value)+parseFloat(t.value)).toFixed(t.decimals);return t.copy(n)},e.zero())},e.prototype.copy=function(t,n,i,r){return void 0===t&&(t=this.value),void 0===n&&(n=this.currencyCode),void 0===i&&(i=this.currencySymbol),void 0===r&&(r=this.decimals),new e(n,i,r,t)},e.US_DOLLAR_CODE="USD",e.US_DOLLAR_SYMBOL="$",e.DECIMALS=2,e}(),r=function(){function e(e,t,n,i,r,o){this.offerPrice=e,this.numOffers=t,this.commission=n,this.numSales=i,this.period=r,this.numSellers=o}return e}(),o=function(){function e(e,t,n,i){this.offerPrice=e,this.numOffers=t,this.commission=n,this.period=i}return e}(),u=function(){function e(e,t,n,i,r,o){this.numInvites=e,this.offerPrice=t,this.numOffers=n,this.commission=i,this.period=r,this.numSellers=o}return e}(),c=function(){function e(e,t,n,i,r){this.numInvites=e,this.offerPrice=t,this.numOffers=n,this.commission=i,this.period=r}return e}(),s=function(){function e(e,t,n,i,r){this.offerPrice=e,this.numOffers=t,this.commission=n,this.period=i,this.numSellers=r}return e}(),f=function(){function e(e,t,n){this.numInvites=e,this.numHours=t,this.haveWebsite=n}return e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0),r=function(){function e(){}return e.prototype.convert=function(e,t,n){var i=this.invitations(e,t),r=this.time(i,t),o=r.creation,u=(r.invitation,r.recommendation),c=this.common(i),s=this.inviteBuyer(i)(c),f=this.createOffer(o)(c),m=this.recommendOffer(u)(c),a=this.inviteSeller(c.numSellers,f.numOffers)(c);return{create:f,host:this.host(n,i)(c),inviteBuyer:s,inviteSeller:a,recommend:m}},e.prototype.totalTime=function(t){return e.config.period*t},e.prototype.invitationTime=function(t){return this.totalTime(t)*e.config.timePercentage.invitation},e.prototype.creationTime=function(t){return this.totalTime(t)*e.config.timePercentage.creation},e.prototype.recommendationTime=function(t){return this.totalTime(t)*e.config.timePercentage.recommendation},e.prototype.time=function(t,n){var i=this.totalTime(n),r=t*e.config.timePerInvitation,o=i-r,u=this.creationToRecommendationRatio(),c=o>0?o/(u+1):0;return{creation:c*u,invitation:r,recommendation:c}},e.prototype.invitations=function(t,n){var i=n*e.config.period*e.config.timePercentage.invitation;return t*e.config.timePerInvitation>i?Math.floor(i/e.config.timePerInvitation):t},e.prototype.common=function(t){return{commission:e.config.relCom,numSellers:this.sellers(t),offerPrice:e.config.offerPrice}},e.prototype.inviteBuyer=function(t){return function(n){return new i.a(t,n.offerPrice,e.config.sales.buyer,n.commission,e.config.period,n.numSellers)}},e.prototype.inviteSeller=function(t,n){return function(r){return t>0?new i.g(t,r.offerPrice,Math.floor(e.config.sales.creation*n/t),r.commission,e.config.period):void 0}},e.prototype.createOffer=function(t){var n=this.creations(t);n>0&&(e.config.sales.creation,e.config.period);return function(t){return n>0?new i.b(t.offerPrice,n,t.commission,e.config.sales.creation,e.config.period,t.numSellers):void 0}},e.prototype.recommendOffer=function(t){return function(n){return t>0?function(){var r=Math.floor(t/e.config.timePerRecommendation),o=r<365?{numOffers:r,period:1}:{numOffers:Math.floor(r/e.config.period),period:e.config.period};return new i.f(n.offerPrice,o.numOffers,n.commission,o.period,n.numSellers)}():void 0}},e.prototype.host=function(t,n){var r=n*e.config.sales.host;return function(o){return t&&n*e.config.sales.host>0?new i.c(o.offerPrice,r,o.commission,e.config.period):void 0}},e.prototype.creations=function(t){return Math.floor(t/e.config.timePerCreation)},e.prototype.creationToRecommendationRatio=function(){return e.config.timePercentage.creation/e.config.timePercentage.recommendation},e.prototype.sellers=function(t){return Math.floor(t/(e.config.buyerSellerRatio+1))},e.config={buyerSellerRatio:12,offerPrice:{absCommission:null,commission:"rel",cost:i.d.fromNumber(7),msrp:i.d.fromNumber(7),relCommission:null,taxRate:null},period:365,relCom:.05,sales:{buyer:1,creation:1,host:.03},timePerCreation:75,timePerInvitation:8,timePerRecommendation:4,timePercentage:{creation:.6,invitation:.35,recommendation:.05}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);n.d(t,"Estimator",function(){return i.a});var r=n(0);n.d(t,"Price",function(){return r.d}),n.d(t,"CreationParams",function(){return r.b}),n.d(t,"HostParams",function(){return r.c}),n.d(t,"BuyerInvitationParams",function(){return r.a}),n.d(t,"SellerInvitationParams",function(){return r.g}),n.d(t,"RecommendParams",function(){return r.f}),n.d(t,"QuickParams",function(){return r.e});var o=n(1);n.d(t,"QuickEstimator",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),r=n(4),o=function(){function e(e,t){this.estimate=e,this.all=t,this.parser=new r.a}return e.prototype.total=function(e){var t=this.parser.parseReport(e),n=[this.create(t.create),this.host(t.host),this.inviteBuyer(t.inviteBuyer),this.inviteSeller(t.inviteSeller),this.recommend(t.recommend)].filter(function(e){return void 0!==e});return this.all(n).then(function(e){return i.d.add.apply(i.d,e)})},e.prototype.create=function(e){return this.nonEmpty(e)?this.estimate(e.offerPrice,e.numSellers||0).then(function(t){var n=e.numOffers*e.numSales*e.period*e.commission/t.price.relCommission;return i.d.times(t.createOffer,n)}):void 0},e.prototype.host=function(e){return this.nonEmpty(e)?this.estimate(e.offerPrice,0).then(function(t){var n=e.numOffers*e.period*e.commission/t.price.relCommission;return i.d.times(t.recommendOffer,n)}):void 0},e.prototype.inviteBuyer=function(e){return this.nonEmpty(e)?this.estimate(e.offerPrice,e.numSellers||0).then(function(t){var n=e.numInvites*e.numOffers*e.period*e.commission/t.price.relCommission;return i.d.times(t.inviteBuyer,n)}):void 0},e.prototype.inviteSeller=function(e){return this.nonEmpty(e)?this.estimate(e.offerPrice,e.numInvites).then(function(t){var n=e.numInvites*e.numOffers*e.period*e.commission/t.price.relCommission,r=i.d.times(t.inviteSeller,n),o=i.d.times(t.bonus,n);return i.d.add(r,o)}):void 0},e.prototype.recommend=function(e){return this.nonEmpty(e)?this.estimate(e.offerPrice,e.numSellers||0).then(function(t){var n=e.numOffers*e.period*e.commission/t.price.relCommission;return i.d.times(t.recommendOffer,n)}):void 0},e.prototype.nonEmpty=function(e){return!!e&&!!e.offerPrice},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(1),r=function(){function e(){this.quick=new i.a}return e.prototype.parseReport=function(e){return e&&e.quick?this.quick.convert(e.quick.numInvites,e.quick.numHours,this.parseHasWebsite(e.quick.haveWebsite)):void 0},e.prototype.parseHasWebsite=function(e){return"yes"===e},e}()}])});
//# sourceMappingURL=index.js.map